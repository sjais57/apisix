[kafka]
client = yes
accept = 127.0.0.1:9092
connect = kafka.example.com:9093
CAfile = /etc/stunnel/ca.pem     # <-- CA cert (trusts server)
cert = /etc/stunnel/client.crt   # <-- Client certificate (provided by Kafka admin)
key = /etc/stunnel/client.key    # <-- Private key for client cert
verify = 2
=======
{
  "uri": "/test",
  "plugins": {
    "kafka-logger": {
      "brokers": [
        "127.0.0.1:9092"
      ],
      "kafka_topic": "apisix-logs",
      "batch_max_size": 1,
      "producer_type": "async",
      "key": "apisix-key"             // Optional: message key
      // You can add more options as needed
    }
  },
  "upstream": {
    "type": "roundrobin",
    "nodes": {
      "httpbin.org:80": 1
    }
  }
}
